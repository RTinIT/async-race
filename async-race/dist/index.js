(()=>{"use strict";var e={307:(e,t,n)=>{n.r(t)},438:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.colors=t.carsModel=t.carsBrand=void 0,t.carsBrand=["Mersedes","BMW","Audi","Volvo","KIA","Skoda","Ford","Tesla","Subaru","Lamborgini"],t.carsModel=["X6","Benz","Mustang","Forester","Q3","Model S","XC90","Urus","RIO","Rapid"],t.colors=["#7FFFD4","#78DBE2","#E32636","#9966CC","#755D9A","#FFDC33","#FF97BB","#B00000","#F64A46","#DCDCDC","#00541F","#00BFFF","#FFDB58","#B2EC5D","#FFFFFF","#1E90FF"]},91:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=(e,t)=>Math.floor(Math.random()*(t-e+1))+e;t.default=(e,t,o)=>{const i=[];for(let a=0;a<100;a+=1){const a={name:`${e[n(0,9)]} ${t[n(0,9)]}`,color:`${o[n(0,14)]}`};i.push(a)}return i}},646:function(e,t,n){var o=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(i,a){function d(e){try{c(o.next(e))}catch(e){a(e)}}function r(e){try{c(o.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(d,r)}c((o=o.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.startEngine=t.getWinners=t.updateCar=t.removeCar=t.createCar=t.getCar=t.getCars=void 0;const i=n(888);t.getCars=(e=1)=>o(void 0,void 0,void 0,(function*(){const t=yield fetch(`${i.SERVER_URL}${i.Path.garage}?${i.Path.page}=${e}&${i.Path.limit}=7`);return{count:t.headers.get("X-Total-Count"),arr:yield t.json()}})),t.getCar=e=>o(void 0,void 0,void 0,(function*(){const t=yield fetch(`${i.SERVER_URL}${i.Path.garage}/${e}`);return yield t.json()})),t.createCar=e=>o(void 0,void 0,void 0,(function*(){const t=yield fetch(i.SERVER_URL+i.Path.garage,{method:"POST",headers:i.HEADERS,body:JSON.stringify(e)});return yield t.json()})),t.removeCar=e=>o(void 0,void 0,void 0,(function*(){const t=yield fetch(`${i.SERVER_URL}${i.Path.garage}/${e}`,{method:"DELETE"});return yield t.json()})),t.updateCar=(e,t)=>o(void 0,void 0,void 0,(function*(){const n=yield fetch(`${i.SERVER_URL}${i.Path.garage}/${t}`,{method:"PUT",headers:i.HEADERS,body:JSON.stringify(e)});return yield n.json()})),t.getWinners=(e=1)=>o(void 0,void 0,void 0,(function*(){const t=yield fetch(`${i.SERVER_URL}${i.Path.winners}?${i.Path.page}=${e}&${i.Path.limit}=10`);return{count:t.headers.get("X-Total-Count"),arr:yield t.json()}})),t.startEngine=(e,t)=>o(void 0,void 0,void 0,(function*(){const n=yield fetch(`${i.SERVER_URL}${i.Path.engine}?id=${e}&status=${t}`);return yield n.json()}))},991:function(e,t,n){var o=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(i,a){function d(e){try{c(o.next(e))}catch(e){a(e)}}function r(e){try{c(o.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(d,r)}c((o=o.apply(e,t||[])).next())}))},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const a=n(680),d=i(n(737)),r=n(887),c=n(582),u=n(646),l=i(n(91)),s=n(438),v=i(n(163)),f=i(n(84));t.default=()=>o(void 0,void 0,void 0,(function*(){const e=document.getElementById("input-create-name"),t=document.getElementById("input-create-color"),n=document.getElementById("count-garage-car"),i=document.getElementById("create-btn"),p=document.getElementById("input-update-name"),g=document.getElementById("input-update-color"),h=document.getElementById("update-btn"),m=document.getElementById("next"),y=document.getElementById("prev"),b=document.getElementById("page-number");let _=1;const E=document.getElementById("generate"),P=document.getElementById("garage-content");null==i||i.addEventListener("click",(()=>{(0,v.default)(e,t,n,_),(0,c.clearFields)(!1,e,t),o(void 0,void 0,void 0,(function*(){yield(0,u.getCars)(_)}))})),null==h||h.addEventListener("click",(()=>{(0,f.default)(p,g),(0,d.default)(_,n,0),(0,c.clearFields)(!0,p,g),(0,c.disable)(h,!0)})),null==m||m.addEventListener("click",(()=>{(0,d.default)(_,n,1),_+=1,b.innerText=`${_}`,(0,r.prevBtnActive)(!0),(0,a.isLastPage)(_)&&(0,r.nextBtnActive)(!1)})),null==y||y.addEventListener("click",(()=>{(0,d.default)(_,n,-1),_-=1,b.innerText=`${_}`,(0,r.nextBtnActive)(!0),(0,a.isFirstPage)(_)&&(0,r.prevBtnActive)(!1),o(void 0,void 0,void 0,(function*(){const e=yield(0,u.getCars)();e.count&&+e.count<=7&&(0,r.nextBtnActive)(!1)}))})),null==E||E.addEventListener("click",(()=>{(0,l.default)(s.carsBrand,s.carsModel,s.colors).forEach((e=>{o(void 0,void 0,void 0,(function*(){return(0,u.createCar)(e)}))})),o(void 0,void 0,void 0,(function*(){const e=yield(0,u.getCars)(_);n.innerText=`(${e.count})`})),(0,d.default)(_,n,0),(0,r.nextBtnActive)(!0)})),P.addEventListener("click",(e=>{var t;const i=e.target;i.classList.contains("car__remove-btn")&&i.parentElement&&((0,u.removeCar)(+i.parentElement.id),o(void 0,void 0,void 0,(function*(){const e=yield(0,u.getCars)(_);n.innerText=`(${e.count})`})),(0,d.default)(_,n,0)),i.classList.contains("car__select-btn")&&i.parentElement&&((0,c.disable)(p,!1),(0,c.disable)(g,!1),(0,c.disable)(h,!1),null===(t=i.parentElement)||void 0===t||t.classList.add("selected")),i.classList.contains("start-engine")&&console.log(i)}))}))},888:(e,t)=>{var n;Object.defineProperty(t,"__esModule",{value:!0}),t.HEADERS=t.Path=t.SERVER_URL=void 0,t.SERVER_URL="http://127.0.0.1:3000",(n=t.Path||(t.Path={})).garage="/garage",n.winners="/winners",n.page="_page",n.limit="_limit",n.engine="/engine",n.started="started",n.stopped="stopped",t.HEADERS={"Content-Type":"application/json"}},680:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.isLastPage=t.isFirstPage=void 0,t.isFirstPage=e=>1===e,t.isLastPage=e=>{const t=document.getElementById("count-garage-car"),n=parseInt(t.innerText.slice(1),10);return e===Math.ceil(n/7)}},887:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.prevBtnActive=t.nextBtnActive=void 0,t.nextBtnActive=e=>{const t=document.getElementById("next");e?null==t||t.removeAttribute("disabled"):null==t||t.setAttribute("disabled","")},t.prevBtnActive=e=>{const t=document.getElementById("prev");e?null==t||t.removeAttribute("disabled"):null==t||t.setAttribute("disabled","")}},582:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.clearFields=t.disable=void 0,t.disable=(e,t)=>t?e.setAttribute("disabled",""):e.removeAttribute("disabled"),t.clearFields=(e,...n)=>{n.forEach((n=>{e?(n.value="",(0,t.disable)(n,!0)):n.value=""}))}},893:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=()=>{var e;const t=document.createElement("header"),n=document.createElement("nav"),o=document.createElement("a"),i=document.createElement("a");o.classList.add("garage-btn"),o.setAttribute("href","#garage"),o.textContent="TO GARAGE",i.classList.add("winners-btn"),i.setAttribute("href","#winners"),i.textContent="TO WINNERS",n.append(o,i),t.append(n),null===(e=document.querySelector("body"))||void 0===e||e.append(t)}},163:function(e,t,n){var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=n(646),a=o(n(737));t.default=(e,t,n,o)=>{(0,i.createCar)({name:e.value?e.value.trim():"No name",color:"#000000"!==t.value?t.value:"#ffffff"}).then((()=>(0,a.default)(o,n,0)))}},578:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=()=>{var e;const t=document.createElement("div");t.classList.add("view"),t.id="garage",t.innerHTML='\n    <div class="controls">\n      <input type="text" id="input-create-name">\n      <input type="color" id="input-create-color" value="#ffffff">\n      <button id="create-btn">create</button>\n      <br>\n      <input type="text" disabled id="input-update-name">\n      <input type="color" disabled id="input-update-color" value="#ffffff">\n      <button disabled id="update-btn">update</button>\n      <br>\n      <button>race</button>\n      <button>reset</button>\n      <button id="generate">generate</button>\n    </div>\n    <div class="garage__content" id="garage-content">\n      <h1 class="garage-content__title">Garage <span id="count-garage-car"></span></h1>\n      <h3>Page #<span id="page-number">1</span></h3>\n      <div id="page-1"></div>\n    </div>\n    <div id="pagination">\n      <button id="prev" disabled>prev</button>\n      <button id="next" disabled>next</button>\n    </div>\n  ';const n=document.createElement("main");n.append(t),null===(e=document.querySelector("body"))||void 0===e||e.append(n)}},737:function(e,t,n){var o=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(i,a){function d(e){try{c(o.next(e))}catch(e){a(e)}}function r(e){try{c(o.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(d,r)}c((o=o.apply(e,t||[])).next())}))},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const a=n(646),d=n(680),r=n(887),c=i(n(749));t.default=(e,t,n)=>{const i=document.createElement("div");i.innerHTML=`<div id="page-${e+n}"></div>`;const u=document.getElementById("garage-content");null==u||u.replaceChild(i,u.children[2]),o(void 0,void 0,void 0,(function*(){const o=yield(0,a.getCars)(e+n);o.arr.forEach((t=>(0,c.default)(t,`${e+n}`))),t.innerText=`(${o.count})`,o.count&&+o.count>7&&7===o.arr.length&&!(0,d.isLastPage)(e)&&(0,r.nextBtnActive)(!0)}))}},749:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=(e,t="1")=>{var n;const o=document.createElement("div");o.classList.add("car"),o.id=`${e.id}`,o.innerHTML=`\n      <button class ="car__select-btn">select</button>\n      <button class="car__remove-btn">remove</button>\n      <span>${e.name}</span><br>\n      <button class="start-engine">A</button>\n      <button class="stop-engine">B</button>\n      <svg display="none">\n        <symbol id="car" viewBox="0 0 78 56">\n          <g>\n            <path d="M15.532,56.706c-3.977,0-7.213-3.242-7.213-7.197c0-3.998,3.236-7.224,7.213-7.224\n            c3.987,0,7.226,3.226,7.226,7.224C22.758,53.463,19.519,56.706,15.532,56.706z M15.532,45.604c-2.128,0-3.876,1.75-3.876,3.883\n            c0,2.129,1.748,3.879,3.876,3.879c2.141,0,3.886-1.75,3.886-3.879C19.418,47.354,17.673,45.604,15.532,45.604z M64.137,56.706\n            c-3.987,0-7.219-3.242-7.219-7.197c0-3.998,3.231-7.224,7.219-7.224c3.977,0,7.208,3.226,7.208,7.224\n            C71.345,53.463,68.113,56.706,64.137,56.706z M64.137,45.604c-2.144,0-3.895,1.75-3.895,3.883c0,2.129,1.751,3.879,3.895,3.879\n            c2.139,0,3.884-1.75,3.884-3.879C68.021,47.354,66.275,45.604,64.137,45.604z M78.138,44.091c0-7.011-4.365-7.842-4.365-7.842\n            c-6.426-0.912-17.496-1.38-17.496-1.38c-1.016-1.766-5.707-12.039-8.44-12.039c-0.911,0-20.508,0-23.975,0\n            c-3.472,0-9.167,10.024-10.413,12.285c0,0-4.36,0.758-6.416,1.219c-1.142,0.265-4.301,0.324-4.301,9.155H0v3.997h6.654\n            c0-4.908,3.982-8.885,8.878-8.885c4.914,0,8.886,3.977,8.886,8.885h30.827c0-4.908,3.967-8.885,8.892-8.885\n            c4.898,0,8.875,3.977,8.875,8.885h6.524v-5.396H78.138z M35.589,34.191H21.751c1.872-5.831,5.339-9.994,6.801-9.994\n            c1.841,0,7.037,0,7.037,0V34.191z M38.168,34.191v-9.994c0,0,7.141,0,8.974,0c1.854,0,5.893,8.461,7.032,10.625L38.168,34.191z"/>\n          </g>\n        </symbol>\n      </svg>\n      <svg style="fill:${e.color}; width:80px; height:50px;">\n        <use xlink:href="#car"></use>\n      </svg>\n    `,null===(n=document.getElementById(`page-${t}`))||void 0===n||n.append(o)}},833:function(e,t,n){var o=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(i,a){function d(e){try{c(o.next(e))}catch(e){a(e)}}function r(e){try{c(o.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(d,r)}c((o=o.apply(e,t||[])).next())}))},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const a=n(646),d=i(n(749)),r=n(887);t.default=()=>o(void 0,void 0,void 0,(function*(){const e=document.getElementById("count-garage-car"),t=yield(0,a.getCars)();t.arr.forEach((e=>(0,d.default)(e))),e.innerText=`(${t.count})`,t.count&&+t.count>7&&(0,r.nextBtnActive)(!0)}))},84:function(e,t,n){var o=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(i,a){function d(e){try{c(o.next(e))}catch(e){a(e)}}function r(e){try{c(o.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(d,r)}c((o=o.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const i=n(646);t.default=(e,t)=>o(void 0,void 0,void 0,(function*(){const n=document.querySelector(".selected"),o=(null==n?void 0:n.id)?+n.id:-1,a=null==n?void 0:n.children[8];(0,i.updateCar)({name:e.value?e.value.trim():null==n?void 0:n.children[2].textContent,color:t.value?t.value:a.style.fill},o),null==n||n.classList.remove("selected"),(0,i.getCars)()}))},153:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=()=>{const e=document.createElement("div");e.classList.add("view"),e.id="winners",e.innerHTML='\n    <div class="winners__content" id="winners-content">\n      <h2 class="winners-content__title">Winners <span id="count-winners-car"></span></h2>\n      <h3>Page #<span id="winners-page-number">1</span></h3>\n      <table>\n        <tbody>\n          <tr>\n            <th>Number</th>\n            <th>Car</th>\n            <th>Name</th>\n            <th>Wins</th>\n            <th>Best time (seconds)</th>\n          </tr>\n        </tbody>\n      </table>\n    </div>\n    <div id="winners-pagination">\n      <button id="winners-prev" disabled>prev</button>\n      <button id="winners-next" disabled>next</button>\n    </div>\n  ';const t=document.querySelector("main");null==t||t.append(e)}},87:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=(e,t,n)=>{var o;const i=document.createElement("tr");i.innerHTML=`\n  <td>${n}</td>\n  <td>\n      <svg style="fill:${e.color}; width:50px; height:30px;">\n        <use xlink:href="#car"></use>\n      </svg>\n  </td>\n  <td>${e.name}</td>\n  <td>${t.wins}</td>\n  <td>${t.time}</td>\n  `,null===(o=document.querySelector("tbody"))||void 0===o||o.append(i)}},782:function(e,t,n){var o=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(i,a){function d(e){try{c(o.next(e))}catch(e){a(e)}}function r(e){try{c(o.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(d,r)}c((o=o.apply(e,t||[])).next())}))},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const a=n(646),d=i(n(87));t.default=()=>o(void 0,void 0,void 0,(function*(){let e=1;const t=document.getElementById("count-winners-car"),n=yield(0,a.getWinners)();t.innerText=`(${n.count})`,n.arr.forEach((t=>{o(void 0,void 0,void 0,(function*(){const n=yield(0,a.getCar)(t.id);(0,d.default)(n,t,e),e+=1}))}))}))},607:function(e,t,n){var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=o(n(991)),a=o(n(833)),d=o(n(893));n(307);const r=o(n(578)),c=o(n(153)),u=o(n(782));(0,d.default)(),(0,r.default)(),(0,c.default)(),(0,a.default)(),(0,u.default)(),(0,i.default)(),console.log("\nНе выполнил пункты - с 3 по 5. Расчитываю где-то на 75 баллов.\n")}},t={};function n(o){var i=t[o];if(void 0!==i)return i.exports;var a=t[o]={exports:{}};return e[o].call(a.exports,a,a.exports,n),a.exports}n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n(607)})();